function showHeader(){let e=document.getElementById("content"),t=document.createElement("header");t.setAttribute("id","content-header");let n=document.createElement("h1");n.textContent="Operasi Matriks";let a=document.createElement("p");a.textContent="Mata Kuliah: Aljabar Linear dan Matriks",t.append(n,a),e.insertAdjacentElement("afterbegin",t)}function showMain(){let e=document.getElementById("content-header"),t=document.createElement("main");t.setAttribute("id","content-main"),e.insertAdjacentElement("afterend",t),showMainContent()}function showMainContent(){showMainContentLeft(),showMainContentMid()}function showMainContentLeft(){let e=document.getElementById("content-main"),t=document.createElement("section");t.classList.add("left-container"),t.setAttribute("id","left-container");let n=document.createElement("div");n.classList.add("left");let a=document.createElement("h2");a.textContent="Matriks A";let l=document.createElement("div"),i=document.createElement("p");i.textContent="Jumlah Baris:";let r=document.createElement("input");r.type="number",r.id="barisA",r.placeholder="Masukkan jumlah baris matriks",l.append(i,r);let o=document.createElement("div"),s=document.createElement("p");s.textContent="Jumlah Kolom:";let d=document.createElement("input");d.type="number",d.id="kolomA",d.placeholder="Masukkan jumlah kolom matriks",o.append(s,d),n.append(a,l,o);let m=document.createElement("div");m.classList.add("left");let c=document.createElement("h2");c.textContent="Matriks B";let p=document.createElement("div"),E=document.createElement("p");E.textContent="Jumlah Baris:";let u=document.createElement("input");u.type="number",u.id="barisB",u.placeholder="Masukkan jumlah baris matriks",p.append(E,u);let h=document.createElement("div"),g=document.createElement("p");g.textContent="Jumlah Kolom:";let y=document.createElement("input");y.type="number",y.id="kolomB",y.placeholder="Masukkan jumlah kolom matriks",h.append(g,y);let k=document.createElement("div"),B=document.createElement("button");B.type="button",B.setAttribute("id","next"),B.textContent="Selanjutnya",k.appendChild(B),m.append(c,p,h,k),t.append(n,m),e.insertAdjacentElement("beforeend",t)}function showMainContentMid(){let e=document.getElementById("next");e.addEventListener("click",function(){let e=document.getElementById("barisA").value,t=document.getElementById("kolomA").value,n=document.getElementById("barisB").value,a=document.getElementById("kolomB").value;e&&t&&n&&a?showMainMidContentLoad():showAlert("Mohon isi data terlebih dahulu.")})}function showMainMidContentLoad(){let e=document.getElementById("left-container"),t=document.createElement("section");t.classList.add("mid-container"),t.setAttribute("id","mid-container");let n=document.createElement("div");n.classList.add("mid");let a=document.createElement("h2");a.textContent="Angka Matriks A";let l=document.createElement("textarea");l.id="matriksA",l.placeholder="Masukkan angka matriks A:\nContoh:\n1 2 [enter]\n1 2",l.rows=3,l.cols=20,n.append(a,l);let i=document.createElement("div");i.classList.add("mid");let r=document.createElement("h2");r.textContent="Angka Matriks B";let o=document.createElement("textarea");o.id="matriksB",o.placeholder="Masukkan angka matriks B:\nContoh:\n1 2 [enter]\n1 2",o.rows=3,o.cols=20,i.append(r,o);let s=document.createElement("div");s.classList.add("mid");let d=document.createElement("p");d.textContent="Pilih Operasi:";let m=document.createElement("select");m.setAttribute("id","operator"),[{op:"+",title:"Penjumlahan"},{op:"-",title:"Pengurangan"},{op:"x",title:"Perkalian"},{op:"/",title:"Pembagian"},].forEach(e=>{let t=document.createElement("option");t.value=e.op,t.textContent=e.title,m.appendChild(t)}),s.append(d,m);let c=document.createElement("button");c.type="submit",c.id="sum",c.textContent="Hitung",t.append(n,i,s,c),e.insertAdjacentElement("afterend",t),showMainContentRight(),scrollTag("mid-container")}function showMainContentRight(){let e=document.getElementById("sum");e.addEventListener("click",function(){let e=document.getElementById("matriksA").value.split("\n").map(e=>e.trim().split(" ").map(Number)),t=document.getElementById("matriksB").value.split("\n").map(e=>e.trim().split(" ").map(Number)),n=document.getElementById("operator").value;if(e&&t&&n){let a=document.getElementById("loading-container");if(a)a.style.display="flex";else{let l=document.getElementById("mid-container"),i=document.createElement("div");i.classList.add("loading-container"),i.setAttribute("id","loading-container");let r=document.createElement("div");r.classList.add("loading-content"),i.appendChild(r),l.insertAdjacentElement("afterend",i);let o=document.getElementById("loading-container");o.style.display="flex"}showMainContentRightLoad()}else showAlert("Masukkan Matriks terlebih dahulu.")})}async function showMainContentRightLoad(){let e=document.getElementById("mid-container"),t=document.getElementById("barisA").value,n=document.getElementById("kolomA").value,a=document.getElementById("barisB").value,l=document.getElementById("kolomB").value,i=document.getElementById("matriksA").value.split("\n").map(e=>e.trim().split(" ").map(Number)),r=document.getElementById("matriksB").value.split("\n").map(e=>e.trim().split(" ").map(Number)),o=document.getElementById("operator").value,s={baris_a:parseInt(t),kolom_a:parseInt(n),baris_b:parseInt(a),kolom_b:parseInt(l),matriks_a:i,matriks_b:r,operator:o};try{let d=await fetch("https://sukasehat.com/API/public/matriks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),m=await d.json();if(!d.ok){let c=m?.data?.result?.error||"Terjadi kesalahan yang tidak diketahui.";throw Error(c)}let p=m.data.result.hasil,E=m.data.result.error;if(E)showAlert(`${E}`);else{let u=document.getElementById("right-container");if(u)u.innerHTML="";else{(u=document.createElement("section")).classList.add("right-container"),u.setAttribute("id","right-container");let h=document.createElement("p");h.textContent=`Hasil dari Matriks A (${t}x${n}) ${o} Matriks B (${a}x${l}):`,u.appendChild(h)}let g=document.createElement("p");g.textContent="Matriks A:";let y=createMatrixTable(i),k=document.createElement("p");k.textContent="Matriks B:";let B=createMatrixTable(r),C=document.createElement("p");C.textContent="Hasil Matriks:";let b=createMatrixTable(p),f=document.createElement("button");f.type="reset",f.id="reset-sum",f.textContent="Reset",u.append(g,y,k,B,C,b,f),e.insertAdjacentElement("afterend",u);let M=document.getElementById("loading-container");setTimeout(()=>{M.style.display="none"},500)}}catch(A){let x=document.getElementById("loading-container");setTimeout(()=>{x.style.display="none",showAlert(`${A.message}`)},500)}scrollTag("right-container"),showResetContent()}function createMatrixTable(e){let t=document.createElement("table");return t.classList.add("matrix-table"),e.forEach(e=>{let n=document.createElement("tr");e.forEach(e=>{let t=document.createElement("td");t.textContent=e,n.appendChild(t)}),t.appendChild(n)}),t}function showResetContent(){let e=document.getElementById("reset-sum");e&&e.addEventListener("click",function(){let e=document.getElementById("mid-container"),t=document.getElementById("right-container");e&&e.remove(),t&&t.remove();let n=document.getElementById("barisA"),a=document.getElementById("kolomA"),l=document.getElementById("barisB"),i=document.getElementById("kolomB");n&&(n.textContent=""),a&&(a.textContent=""),l&&(l.textContent=""),i&&(i.textContent="")})}function showFooter(){let e=document.getElementById("content-main"),t=document.createElement("footer"),n=document.createElement("p");n.textContent="Copyright @2025 Jeremi",t.appendChild(n),e.insertAdjacentElement("afterend",t)}function showAlert(e){let t=document.getElementById("alert-container");if(t)t.style.display="flex";else{let n=document.getElementById("content-main"),a=document.createElement("div");a.classList.add("alert-container"),a.setAttribute("id","alert-container"),a.style.display="flex";let l=document.createElement("div");l.classList.add("alert-content");let i=document.createElement("p");i.textContent=e;let r=document.createElement("button");r.type="reset",r.id="close-alert",r.textContent="Close",l.append(i,r),a.appendChild(l),n.insertAdjacentElement("beforeend",a),showAlertCloseButton()}}function showAlertCloseButton(){let e=document.getElementById("close-alert");e.addEventListener("click",function(){let e=document.getElementById("alert-container");e.style.display="none"})}function scrollTag(e){let t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})}document.addEventListener("DOMContentLoaded",function(){showHeader(),showMain(),showFooter()});